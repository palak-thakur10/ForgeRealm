@model IEnumerable<ForgeRealm.Models.Building>

<div class="container mt-5">
    <h1 class="text-center mb-4">Buildings List</h1>

    <div class="mb-3 text-center">
        <a class="btn btn-outline-warning"
           asp-controller="Buildings"
           asp-action="Create">
            Add New Building
        </a>
    </div>

    <table class="table table-dark table-striped table-hover text-center">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Rarity</th>   <!-- ✅ ADDED -->
                <th>Level</th>
                <th>Upgrade Complete At</th>
                <th>Player</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var building in Model)
            {
                <tr>
                    <td>@building.Id</td>
                    <td>@building.Name</td>

                    <!-- ✅ RARITY BADGE -->
                    <td>
                        @if (building.Rarity == "Legendary")
                        {
                            <span class="badge bg-warning text-dark">Legendary</span>
                        }
                        else if (building.Rarity == "Rare")
                        {
                            <span class="badge bg-info text-dark">Rare</span>
                        }
                        else
                        {
                            <span class="badge bg-secondary">Common</span>
                        }
                    </td>

                    <td>@building.Level</td>
                    <td>@building.UpgradeCompleteAt?.ToString("g")</td>
                    <td>@building.Player?.UserName</td>
                    <td>
                        <a class="btn btn-sm btn-outline-warning me-1"
                           asp-controller="Buildings"
                           asp-action="Edit"
                           asp-route-id="@building.Id">
                            Edit
                        </a>
                        <a class="btn btn-sm btn-outline-danger"
                           asp-controller="Buildings"
                           asp-action="Delete"
                           asp-route-id="@building.Id">
                            Delete
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <p class="text-muted small text-center mt-3">
        Manage players and their progress across the realm.
    </p>

</div>
